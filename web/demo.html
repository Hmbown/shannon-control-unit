<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shannon Demo — Compression‑Based Detection</title>
    
    <!-- IBM Plex Fonts for Bell Labs Authority -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Bell Labs Design System -->
    <link rel="stylesheet" href="/css/bell-labs-design.css">
    
    <style>
      .demo-wrap { padding: 120px 20px 60px; max-width: 1100px; margin: 0 auto; }
      .demo-head { text-align: center; margin-bottom: 2rem; }
      .demo-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.25rem; }
      .panel { background: var(--white); border: 1px solid var(--gray-200); border-radius: 12px; padding: 1rem; }
      .panel h3 { margin: 0 0 0.5rem 0; font-size: 1.1rem; }
      textarea { width: 100%; min-height: 180px; border: 1px solid var(--gray-300); border-radius: 8px; padding: 0.75rem; font-family: var(--font-mono); font-size: 0.9rem; }
      .controls { display: flex; align-items: center; gap: 1rem; margin-top: 1rem; flex-wrap: wrap; }
      .controls label { font-size: 0.9rem; color: var(--gray-600); }
      .actions { display: flex; gap: 0.75rem; margin-top: 1rem; }
      .btn { padding: 0.6rem 1rem; border-radius: 8px; border: 1px solid var(--primary); color: var(--primary); background: #fff; text-decoration: none; cursor: pointer; font-weight: 600; }
      .btn-primary { background: var(--primary); color: #fff; }
      .results { margin-top: 1.25rem; display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.75rem; }
      .result { border: 1px solid var(--gray-200); border-radius: 10px; padding: 0.75rem; }
      .result .val { font-family: var(--font-mono); font-size: 1.1rem; color: var(--primary); font-weight: 600; }
      .badge { display: inline-block; padding: 0.25rem 0.6rem; border-radius: 999px; font-size: 0.8rem; font-weight: 700; }
      .badge-good { background: #E8FAF1; color: #0F9D58; border: 1px solid #B7EFD2; }
      .badge-bad { background: #FEF2F2; color: #B91C1C; border: 1px solid #FECACA; }
      @media (max-width: 900px) { .demo-grid { grid-template-columns: 1fr; } .results { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>
    <!-- Grid Background -->
    <div class="grid-background"></div>
    
    <!-- Bell Labs Navigation -->
    <nav class="nav" role="navigation" aria-label="Primary">
        <div class="nav-content">
            <a href="/" class="nav-logo">SHANNON</a>
            <div class="nav-links">
                <a href="/">Home</a>
                <a href="/models.html">Models</a>
                <a href="/results.html">Benchmarks</a>
                <a href="/demo.html" class="is-active">Demo</a>
                <a href="/deep-dive.html">Deep Dive</a>
                <a href="/collaborate.html">Collaborate</a>
                <a href="/docs.html">Docs</a>
            </div>
        </div>
    </nav>
    
    <!-- Interactive Demo -->
    <div class="demo-wrap">
      <div class="demo-head">
        <h1 class="hero-title" style="margin-bottom: .5rem;">Compression‑Based Detection</h1>
        <p class="lead" style="max-width: 800px; margin: 0 auto;">Client‑side CBCES (cross‑entropy surrogate) and NCD approximation. No backend calls. Paste data or use the presets and run detection.</p>
      </div>
      <div class="controls" style="justify-content:center; margin-bottom: 1rem;">
        <label>
          Scenario:
          <select id="scenario" style="margin-left:.5rem; padding:.4rem .6rem; border-radius:8px; border:1px solid var(--gray-300);">
            <option value="security">Security — HTTP Logs</option>
            <option value="biomedical">Biomedical — Gene Expression</option>
          </select>
        </label>
        <button class="btn" id="loadScenario">Load Example</button>
      </div>
      <div class="demo-grid">
        <div class="panel">
          <h3>Baseline (normal samples)</h3>
          <textarea id="baseline" placeholder="One sample per line..."></textarea>
          <div class="controls">
            <label>Sensitivity Δbits/byte: <span id="thVal">0.50</span></label>
            <input id="threshold" type="range" min="0.1" max="2.0" step="0.05" value="0.5" />
          </div>
        </div>
        <div class="panel">
          <h3>Candidate (to test)</h3>
          <textarea id="candidate" placeholder="Paste a log line, CSV row, or text bytes..."></textarea>
          <div class="actions">
            <button class="btn btn-primary" id="run">Run Detection</button>
            <button class="btn" id="reset">Reset</button>
          </div>
        </div>
      </div>
      <div class="results" style="margin-top: 1.25rem;">
        <div class="result"><div>Baseline Entropy</div><div class="val" id="hBase">–</div><div style="font-size:.85rem;color:var(--gray-600)">bits/byte</div></div>
        <div class="result"><div>Candidate Cross‑Entropy</div><div class="val" id="hX">–</div><div style="font-size:.85rem;color:var(--gray-600)">bits/byte vs baseline</div></div>
        <div class="result"><div>Δ bits/byte</div><div class="val" id="delta">–</div><div style="font-size:.85rem;color:var(--gray-600)">higher → more anomalous</div></div>
        <div class="result"><div>Status</div><div class="val" id="status">–</div><div id="badge"></div></div>
      </div>
      <div style="margin-top: .75rem; font-size:.9rem; color:var(--gray-600)">Approximate NCD: <span id="ncd">–</span></div>
    </div>
    <script src="/js/demo.js"></script>
</body>
</html>
